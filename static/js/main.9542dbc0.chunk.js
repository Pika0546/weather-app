(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),i=a(6),r=a.n(i),s=a(2),o=a(5),d=a.n(o),j=a(7),l=a(3),h=a(0),m=function(e){var t=e.getCityName,a=Object(c.useState)(""),n=Object(l.a)(a,2),i=n[0],r=n[1];return Object(h.jsx)("div",{className:"form__container",children:Object(h.jsx)("form",{onSubmit:function(e){e.preventDefault(),t(i)},children:Object(h.jsxs)("div",{className:"form__group",children:[Object(h.jsx)("input",{name:"city",type:"text",placeholder:"Enter a city",value:i,onChange:function(e){var t=e.target.value;r(t)},autoComplete:"off"}),Object(h.jsx)("button",{type:"submit",children:Object(h.jsx)("i",{className:"fas fa-search"})})]})})})},u=function(e){var t=e.mainWeather,a=t.humidity,c=t.temp,n=t.visibility,i=t.weather;return Object(h.jsxs)("div",{className:"city-weather__main",children:[Object(h.jsxs)("div",{className:"main-weather__icon",children:[Object(h.jsx)("img",{src:"http://openweathermap.org/img/wn/"+i[0].icon+".png"}),Object(h.jsx)("h4",{children:i[0].description})]}),Object(h.jsx)("div",{className:"main-weather__tempature",children:Math.round(c-273)+"\xb0C"}),Object(h.jsxs)("div",{className:"main-weather__more",children:[Object(h.jsxs)("span",{children:["Humidity: ",a,"%"]}),Object(h.jsxs)("span",{children:["Visibility: ",Math.round(n/1e3),"km"]})]})]})},b=function(e){var t=e.weekday,a=e.timeoffset;console.log(t);var c=t.map((function(e,t){if(0===t||7===t)return"";var c=e.dt,n=e.temp,i=e.weather,r=new Date(1e3*c+1e3*a).toUTCString().split(" ").slice(0,2).join(" ");return Object(h.jsxs)("div",{className:"city-weather__weekday__dow",children:[Object(h.jsx)("div",{className:"city-weather__weekday__date",children:r}),Object(h.jsxs)("div",{className:"city-weather__weekday__icon",children:[Object(h.jsx)("img",{src:"http://openweathermap.org/img/wn/"+i[0].icon+".png"}),Object(h.jsx)("h4",{children:i[0].main})]}),Object(h.jsx)("div",{className:"city-weather__weekday__info",children:Object(h.jsx)("span",{children:Math.round(n.day)-273+"\xb0C"})})]},t)}));return Object(h.jsx)("div",{className:"city-weather__weekday",children:c})},p=function(e){var t=e.mainWeather,a=e.weekday,c=e.name,n=e.timeoffset,i=new Date(1e3*t.dt+1e3*n).toUTCString().split(" ").slice(0,4).join(" ");return Object(h.jsxs)("div",{className:"city-weather__container",children:[Object(h.jsxs)("div",{className:"city-weather__header",children:[Object(h.jsx)("h1",{children:c}),Object(h.jsx)("h4",{children:i})]}),Object(h.jsx)(u,{mainWeather:t}),Object(h.jsx)(b,{timeoffset:n,weekday:a})]})},O=(a(14),a.p+"static/media/cloud1.51bd35d1.png"),x="b40ad438d30cd97d2c827d23ceb76829",f={data:[],isLoading:!1,mainWeather:{},timezone:0,cityName:"",isError:!1,isStarting:!0};var g=function(){var e=Object(c.useState)(f),t=Object(l.a)(e,2),a=t[0],n=t[1],i=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r="";return a.isStarting&&(r=Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{className:"cute-cloud",src:O,alt:"cloud"}),Object(h.jsx)("h2",{className:"anoucement",children:"Hello"})]})),a.isLoading&&(r=Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{className:"cute-cloud",src:O,alt:"cloud"}),Object(h.jsx)("h2",{className:"anoucement",children:"Loading..."})]})),a.isError&&(r=Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{className:"cute-cloud",src:O,alt:"cloud"}),Object(h.jsx)("h2",{className:"anoucement",children:Object(h.jsxs)("span",{children:["Sorry! ",Object(h.jsx)("br",{})," I couldn't find your city"]})})]})),Object(h.jsxs)("div",{className:"container bg-clear ",children:[Object(h.jsx)(m,{getCityName:function(e){n(Object(s.a)(Object(s.a)({},a),{},{isLoading:!0,isStarting:!1})),function(e){var t=i("https://api.openweathermap.org/data/2.5/weather?q="+e+"&appid="+x);console.log("data",t),t.then((function(t){if(200===t.cod){var c=t.coord.lat,r=t.coord.lon;i("https://api.openweathermap.org/data/2.5/onecall?lat="+c+"&lon="+r+"&exclude=hourly&appid="+x).then((function(t){n({data:t.daily,cityName:e,mainWeather:t.current,timezone:t.timezone_offset,isLoading:!1,isError:!1})}))}else n(Object(s.a)(Object(s.a)({},a),{},{isLoading:!1,isError:!0}))}),(function(e){console.log("error",e)}))}(e)}}),r,r?"":Object(h.jsx)(p,{name:a.cityName,mainWeather:a.mainWeather,weekday:a.data,timeoffset:a.timezone})]})},w=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,16)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),i(e),r(e)}))};r.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(g,{})}),document.getElementById("root")),w()}},[[15,1,2]]]);
//# sourceMappingURL=main.9542dbc0.chunk.js.map